(function(){"use strict";var t={4703:function(t,e,a){var o=a(6848),l=a(9143),i=a.n(l),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{attrs:{id:"app"}},[e("el-card",{staticClass:"box-card"},[e("div",{staticClass:"body-data"},[e("el-form",{attrs:{model:t.bodyData}},[e("el-form-item",[e("label",{staticStyle:{"font-size":"16px"}},[t._v("TDEE:")]),t._v(" "),e("span",{staticStyle:{float:"right"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.remenberInput,expression:"remenberInput"}],attrs:{id:"remenber",type:"checkbox"},domProps:{checked:Array.isArray(t.remenberInput)?t._i(t.remenberInput,null)>-1:t.remenberInput},on:{change:function(e){var a=t.remenberInput,o=e.target,l=!!o.checked;if(Array.isArray(a)){var i=null,n=t._i(a,i);o.checked?n<0&&(t.remenberInput=a.concat([i])):n>-1&&(t.remenberInput=a.slice(0,n).concat(a.slice(n+1)))}else t.remenberInput=l}}}),t._v("記住今日所需")]),e("el-input",{attrs:{placeholder:"TDEE",type:"number"},model:{value:t.bodyData.tdee,callback:function(e){t.$set(t.bodyData,"tdee",e)},expression:"bodyData.tdee"}})],1),e("el-form-item",[e("label",{staticStyle:{"font-size":"16px"}},[t._v("今日所需的蛋白質量:")]),e("el-input",{attrs:{placeholder:"需要的蛋白質量",type:"number"},model:{value:t.bodyData.protein,callback:function(e){t.$set(t.bodyData,"protein",e)},expression:"bodyData.protein"}})],1)],1)],1),e("div",{staticClass:"add-meal"},[e("el-row",[e("el-button",{staticClass:"meal-button",attrs:{type:"primary"},on:{click:function(e){return t.addFood(1)}}},[t._v("+ 早餐")]),e("el-button",{staticClass:"meal-button",attrs:{type:"primary"},on:{click:function(e){return t.addFood(2)}}},[t._v("+ 午餐")]),e("el-button",{staticClass:"meal-button",attrs:{type:"primary"},on:{click:function(e){return t.addFood(3)}}},[t._v("+ 晚餐")])],1)],1),e("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,"before-close":t.handleClose,"show-close":!1,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[e("el-form",{ref:"dynamicValidateForm",staticClass:"demo-dynamic",attrs:{model:t.dynamicValidateForm,"label-width":"10px","hide-required-asterisk":!0}},[t._l(t.dynamicValidateForm[t.mealType],(function(a,o){return e("el-form-item",{key:a.key,attrs:{prop:`${t.mealType}[${o}].food`,rules:{required:!0,message:"請輸入食物",trigger:"blur"}}},[e("div",{staticClass:"food-item"},[e("label",[t._v("食物：")]),e("el-input",{model:{value:a.food,callback:function(e){t.$set(a,"food",e)},expression:"domain.food"}}),e("label",[t._v("熱量：")]),e("el-input",{attrs:{type:"number"},model:{value:a.cal,callback:function(e){t.$set(a,"cal",e)},expression:"domain.cal"}}),e("label",[t._v("蛋白質：")]),e("el-input",{attrs:{type:"number"},model:{value:a.protein,callback:function(e){t.$set(a,"protein",e)},expression:"domain.protein"}}),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return e.preventDefault(),t.removeDomain(a)}}},[t._v("删除")])],1)])})),e("el-form-item",{staticStyle:{"text-align":"right",display:"flex","justify-content":"space-between"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.addDomain}},[t._v("新增食物")]),e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submitForm("dynamicValidateForm")}}},[t._v("確認")])],1)],2)],1),e("div",{staticClass:"table"},[e("div",{staticClass:"breakfast"},[e("h3",[t._v("早餐：")]),t._l(t.dynamicValidateForm.breakfast,(function(a,o){return e("div",{key:a.key},[e("div",{staticClass:"meal"},[e("div",{staticClass:"food-info"},[e("span",[t._v(t._s(o+1+".")+t._s(a.food))])]),e("div",{staticClass:"meal-detail"},[e("span",[t._v("熱量："+t._s(a.cal?a.cal+" kcal":"未填寫"))]),e("span",[t._v("蛋白質："+t._s(a.protein?a.protein+" g":"未填寫"))])])])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.totalCal.breakfast||""!=t.totalProtein.breakfast,expression:"totalCal.breakfast != '' || totalProtein.breakfast != ''"}],staticClass:"meal-detail-total"},[e("span",[t._v("總共：")]),e("span",[t._v(" 熱量"+t._s(t.totalCal.breakfast?t.totalCal.breakfast:"0")+" kcal ")]),e("span",[t._v("/")]),e("span",[t._v("蛋白質"+t._s(t.totalProtein.breakfast?t.totalProtein.breakfast:"0")+" g ")])]),e("hr")],2),e("div",{staticClass:"lunch"},[e("h3",[t._v("午餐：")]),t._l(t.dynamicValidateForm.lunch,(function(a,o){return e("div",{key:a.key},[e("div",{staticClass:"meal"},[e("div",{staticClass:"food-info"},[e("span",[t._v(t._s(o+1+".")+t._s(a.food))])]),e("div",{staticClass:"meal-detail"},[e("span",[t._v("熱量："+t._s(a.cal?a.cal+" kcal":"未填寫"))]),e("span",[t._v("蛋白質："+t._s(a.protein?a.protein+" g":"未填寫"))])])])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.totalCal.lunch||""!=t.totalProtein.lunch,expression:"totalCal.lunch != '' || totalProtein.lunch != ''"}],staticClass:"meal-detail-total"},[e("span",[t._v("總共：")]),e("span",[t._v(" 熱量"+t._s(t.totalCal.lunch?t.totalCal.lunch:"0")+" kcal ")]),e("span",[t._v("/")]),e("span",[t._v(" 蛋白質"+t._s(t.totalProtein.lunch?t.totalProtein.lunch:"0")+" g")])]),e("hr")],2),e("div",{staticClass:"dinner"},[e("h3",[t._v("晚餐：")]),t._l(t.dynamicValidateForm.dinner,(function(a,o){return e("div",{key:a.key},[e("div",{staticClass:"meal"},[e("div",{staticClass:"food-info"},[e("span",[t._v(t._s(o+1+".")+t._s(a.food))])]),e("div",{staticClass:"meal-detail"},[e("span",[t._v("熱量："+t._s(a.cal?a.cal+" kcal":"未填寫"))]),e("span",[t._v("蛋白質："+t._s(a.protein?a.protein+" g":"未填寫"))])])])])})),e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.totalCal.dinner||""!=t.totalProtein.dinner,expression:"totalCal.dinner != '' || totalProtein.dinner != ''"}],staticClass:"meal-detail-total"},[e("span",[t._v("總共：")]),e("span",[t._v(" 熱量"+t._s(t.totalCal.dinner?t.totalCal.dinner:"0")+" kcal ")]),e("span",[t._v("/")]),e("span",[t._v(" 蛋白質"+t._s(t.totalProtein.dinner?t.totalProtein.dinner:"0")+" g ")])]),e("hr")],2),e("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.bodyData.tdee||""!=t.bodyData.protein,expression:"bodyData.tdee != '' || bodyData.protein != ''"}]},[e("h3",[t._v("結算：")]),e("div",{staticClass:"todaySum"},[e("div",{staticClass:"l-item"},[e("span",{staticStyle:{color:"black"}},[t._v(" "+t._s("今日攝取總熱量："+t.todayCalSum+" kcal")+" ")]),e("br"),e("span",{staticStyle:{color:"black"}},[t._v(" "+t._s("今日攝取總蛋白："+t.todayProteinSum+" g")+" ")])]),e("div",{staticClass:"r-item"},[e("span",{style:{color:t.bodyData.tdee-t.todayCalSum>=0?"green":"red"}},[t._v(" "+t._s(t.bodyData.tdee-t.todayCalSum>=0?"熱量赤字：":"熱量盈餘：")+" "+t._s(Math.abs(t.bodyData.tdee-t.todayCalSum))+" kcal ")]),e("br"),e("span",{style:{color:t.bodyData.protein-t.todayProteinSum>=0?"red":"green"}},[t._v(" "+t._s(t.bodyData.protein-t.todayProteinSum>=0?"蛋白質不足：":"蛋白質盈餘：")+" "+t._s(Math.abs(t.bodyData.protein-t.todayProteinSum))+" g ")])])])]),e("div",{staticClass:"reset"},[e("el-button",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{type:"danger"},on:{click:t.clearAll}},[t._v(" 清除全部 ")]),e("div",{staticStyle:{"font-size":"12px","margin-top":"10px"}},[t._v(" *雖然影響增肌跟減脂的因素很多，但是熱量及蛋白質相對好計算，而本網站的功能是讓您可以快速的計算當天總攝取。 ")])],1)])],1)],1)])},r=[],s=(a(4114),{data(){return{foodDialogVisible:!1,dialogVisible:!1,mealType:"",todayCalSum:"",todayProteinSum:"",remenberInput:!1,bodyData:{tdee:"",protein:""},totalCal:{breakfast:"",lunch:"",dinner:""},totalProtein:{breakfast:"",lunch:"",dinner:""},dynamicValidateForm:{breakfast:[],lunch:[],dinner:[]}}},mounted(){this.getItems(),this.totalToday()},watch:{bodyData:{handler(t,e){localStorage.setItem("bodyData_Tdee",t.tdee),localStorage.setItem("bodyData_Protein",t.protein)},deep:!0}},methods:{handleScrollToBottom(){const t=document.querySelector(".el-dialog__wrapper");t&&(t.scrollTop=t.scrollHeight)},addFood(t){this.dialogVisible=!0,1===t?this.mealType="breakfast":2===t?this.mealType="lunch":3===t&&(this.mealType="dinner")},submitForm(t){this.$refs[t].validate((t=>{t?(this.calculation(),this.totalToday(),this.removeEmptyDomain(),this.persist(),this.dialogVisible=!1):(this.removeEmptyDomain(),this.dialogVisible=!1)}))},removeDomain(t){var e=this.dynamicValidateForm[this.mealType].indexOf(t);-1!==e&&this.dynamicValidateForm[this.mealType].splice(e,1)},addDomain(){this.dynamicValidateForm[this.mealType].push({food:"",cal:"",protein:"",key:Date.now()}),setTimeout((()=>{this.handleScrollToBottom()}),0)},removeEmptyDomain(){const t=this.dynamicValidateForm[this.mealType];for(let e=t.length-1;e>=0;e--)t[e].food.trim()||t.splice(e,1)},handleClose(){this.dialogVisible=!1},calculation(){this.totalCal.breakfast=this.dynamicValidateForm.breakfast.reduce(((t,e)=>t+(parseFloat(e.cal)||0)),0),this.totalCal.lunch=this.dynamicValidateForm.lunch.reduce(((t,e)=>t+(parseFloat(e.cal)||0)),0),this.totalCal.dinner=this.dynamicValidateForm.dinner.reduce(((t,e)=>t+(parseFloat(e.cal)||0)),0),this.totalProtein.breakfast=this.dynamicValidateForm.breakfast.reduce(((t,e)=>t+(parseFloat(e.protein)||0)),0),this.totalProtein.lunch=this.dynamicValidateForm.lunch.reduce(((t,e)=>t+(parseFloat(e.protein)||0)),0),this.totalProtein.dinner=this.dynamicValidateForm.dinner.reduce(((t,e)=>t+(parseFloat(e.protein)||0)),0)},totalToday(){this.todayCalSum=Object.values(this.totalCal).map((t=>parseFloat(t)||0)).reduce(((t,e)=>t+e),0),this.todayProteinSum=Object.values(this.totalProtein).map((t=>parseFloat(t)||0)).reduce(((t,e)=>t+e),0)},clearAll(){this.$confirm("確定清除所有資料？",{confirmButtonText:"確定",cancelButtonText:"取消",type:"warning"}).then((()=>{if(this.$message({type:"success"}),this.remenberInput){let t=localStorage.getItem("bodyData_Tdee"),e=localStorage.getItem("bodyData_Protein");localStorage.clear(),localStorage.setItem("bodyData_Tdee",JSON.stringify(t)),localStorage.setItem("bodyData_Protein",JSON.stringify(e))}else localStorage.clear();location.reload()})).catch((()=>{this.$message({type:"info",message:"已取消"})}))},persist(){localStorage.setItem("bodyData_Tdee",JSON.stringify(this.bodyData.tdee)),localStorage.setItem("bodyData_Protein",JSON.stringify(this.bodyData.protein));const t=["breakfast","lunch","dinner"];t.forEach((t=>{localStorage.setItem(t,JSON.stringify(this.dynamicValidateForm[t])),localStorage.setItem(`totalCal_${t}`,JSON.stringify(this.totalCal[t])),localStorage.setItem(`totalProtein_${t}`,JSON.stringify(this.totalProtein[t]))}))},getItems(){localStorage.getItem("bodyData_Tdee")&&(this.bodyData.tdee=JSON.parse(localStorage.getItem("bodyData_Tdee"))),localStorage.getItem("bodyData_Protein")&&(this.bodyData.protein=JSON.parse(localStorage.getItem("bodyData_Protein")));const t=["breakfast","lunch","dinner"];t.forEach((t=>{localStorage.getItem(t)&&(this.dynamicValidateForm[t]=JSON.parse(localStorage.getItem(t))),localStorage.getItem(`totalCal_${t}`)&&(this.totalCal[t]=JSON.parse(localStorage.getItem(`totalCal_${t}`))),localStorage.getItem(`totalProtein_${t}`)&&(this.totalProtein[t]=JSON.parse(localStorage.getItem(`totalProtein_${t}`)))}))}},computed:{dialogTitle(){switch(this.mealType){case"breakfast":return"早餐";case"lunch":return"午餐";case"dinner":return"晚餐"}}}}),d=s,c=a(1656),m=(0,c.A)(d,n,r,!1,null,null,null),u=m.exports;o["default"].use(i()),new o["default"]({el:"#app",render:t=>t(u)})}},e={};function a(o){var l=e[o];if(void 0!==l)return l.exports;var i=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,o,l,i){if(!o){var n=1/0;for(c=0;c<t.length;c++){o=t[c][0],l=t[c][1],i=t[c][2];for(var r=!0,s=0;s<o.length;s++)(!1&i||n>=i)&&Object.keys(a.O).every((function(t){return a.O[t](o[s])}))?o.splice(s--,1):(r=!1,i<n&&(n=i));if(r){t.splice(c--,1);var d=l();void 0!==d&&(e=d)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[o,l,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var o in e)a.o(e,o)&&!a.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,o){var l,i,n=o[0],r=o[1],s=o[2],d=0;if(n.some((function(e){return 0!==t[e]}))){for(l in r)a.o(r,l)&&(a.m[l]=r[l]);if(s)var c=s(a)}for(e&&e(o);d<n.length;d++)i=n[d],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(c)},o=self["webpackChunkfood_calculator"]=self["webpackChunkfood_calculator"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=a.O(void 0,[504],(function(){return a(4703)}));o=a.O(o)})();
//# sourceMappingURL=app.177d9116.js.map